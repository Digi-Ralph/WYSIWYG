const h2=document.querySelector("h1"),containertitle=document.querySelector(".title-container"),titleLayout=document.querySelector(".layout-title"),input=e=>{const t=h2.firstElementChild.tagName,n=h2.innerText.length;if(1!==n)n>1&&"SPAN"===t&&h2.firstElementChild.remove();else{const e='<span class="placeholder-title" placeholder = "Untitled"></span>';titleLayout.insertAdjacentHTML("afterbegin",e)}},blockCretChange=e=>{"Enter"===e.key&&(e.preventDefault(),document.querySelector("#block_one").focus())};function getCaretCoordinates(){let e=0,t=0;width=0;if(void 0!==window.getSelection){const n=window.getSelection();if(0!==n.rangeCount){const o=n.getRangeAt(0).cloneRange().getClientRects()[0];o&&(e=o.left,t=o.top,width=o.width)}}return{x:e,y:t,width:width}}function toggleTooltip(){const e=document.getElementById("tooltip");if(window.getSelection().toString().length>0){let t=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;const{x:n,y:o,width:l}=getCaretCoordinates();e.setAttribute("aria-hidden","false"),e.setAttribute("style",`display: flex;\n            justify-content: space-evenly;\n            align-items: center; \n            left:${n+l/2-140}px; \n            top: ${o+t-65}px;\n            `)}else e.setAttribute("aria-hidden","true"),e.setAttribute("style","display: none;")}const textcontainer=document.querySelector(".text-container"),layouttext=document.querySelector(".layout-text"),placeholdertext=document.querySelector(".placeholder-text"),holderText=()=>{const e=textcontainer.firstElementChild.innerText.valueOf().length,t=layouttext.firstElementChild.tagName;if(1!==e)e>1&&"SPAN"===t&&layouttext.firstElementChild.remove();else{const e='<span class="placeholder-text" placeholder = "Write Your Story"></span>';layouttext.insertAdjacentHTML("afterbegin",e)}},stopDefault=e=>{const t=h2.innerText.valueOf().length;("Backspace"==e.key||"Delete"==e.key)&&t<2&&e.preventDefault()},stopDefaultText=e=>{const t=textcontainer.firstElementChild.innerText.valueOf().length;console.log(t),"Backspace"!=e.key&&"Delete"!=e.key||1!==t||e.preventDefault()};containertitle.addEventListener("input",input),containertitle.addEventListener("keydown",stopDefault),containertitle.addEventListener("keydown",blockCretChange),textcontainer.addEventListener("input",holderText),textcontainer.addEventListener("keydown",stopDefaultText),document.addEventListener("mouseup",(e=>toggleTooltip()));const text_bold=document.getElementById("bold");text_bold.addEventListener("click",(e=>{const t=window.getSelection().toString();document.execCommand("bold",!1,t)}));const text_italic=document.getElementById("italic");text_italic.addEventListener("click",(e=>{const t=window.getSelection().toString();document.execCommand("italic",!1,t)}));const text_underline=document.getElementById("underline");text_underline.addEventListener("click",(e=>{const t=window.getSelection().toString();document.execCommand("underline",!1,t)}));const text_highlight=document.getElementById("highlighter");text_highlight.addEventListener("click",(e=>{document.execCommand("HiliteColor",!1,"yellow");const t=window.getSelection();t.anchorNode.parentElement.insertAdjacentHTML("afterend","\ufeff"),t.removeAllRanges()}));const hyperLink=document.getElementById("link");hyperLink.addEventListener("click",(e=>{var t=prompt("Enter a URL:","http://");!function(e){if(e)if(window.getSelection){sel=window.getSelection(),sel.removeAllRanges();for(var t=0,n=e.length;t<n;++t)sel.addRange(e[t])}else document.selection&&e.select&&e.select()}(function(){if(window.getSelection){if(sel=window.getSelection(),sel.getRangeAt&&sel.rangeCount){const n=[];for(var e=0,t=sel.rangeCount;e<t;++e)n.push(sel.getRangeAt(e));return n}}else if(document.selection&&document.selection.createRange)return document.selection.createRange();return null}()),document.execCommand("CreateLink",!1,t);const n=window.getSelection().getRangeAt(0).endContainer.parentElement;n.setAttribute("style","cursor:pointer;"),n.setAttribute("target","_blank")}));
//# sourceMappingURL=index.js.map